<fieldset th:fragment="recordingSection" id="recordingPlaybackContainer"
          class="border rounded p-3 mb-4 position-relative hidden" xmlns:th="http://www.thymeleaf.org">
    <legend class="float-none w-auto px-3 text-primary fw-semibold">Recording section</legend>
    <div id="recordingSection" class="mb-4">
        <div id="videoContainer" class="position-relative mb-2" style="max-height: 300px;">
            <!-- Placeholder image -->
            <img id="videoPlaceholder" th:src="@{/img/recording/camera-loading.gif}"
                 class="w-100 border rounded"
                 alt="loading" style="max-height: 300px; max-width: 400px; object-fit: cover;">

            <video id="video" autoplay muted class="border rounded w-100 video-layer"></video>

            <!-- Recording overlay -->
            <div id="recordingOverlay"
                 class="position-absolute top-0 end-0 m-2 px-2 py-1 rounded d-flex align-items-center gap-2 bg-dark bg-opacity-75 text-white overlay-layer">
                <span id="recordingTimer" class="hidden fw-bold small">02:30</span>
                <span id="recordingIndicator" class="recording-indicator hidden"></span>
            </div>
        </div>
        <!-- Record button -->
        <label id="recordLabel"></label>
        <button id="recordBtn" class="btn btn-light">
            <img id="recordBtnImg" th:src="@{/img/button/record.png}" alt="Record"
                 style="width: 40px; height: 40px;">
        </button>
    </div>

    <!-- Playback Section -->
    <div id="playbackSection" class="mb-4 border hidden">
        <h5>Preview Recorded Video</h5>
        <video id="playback" controls class="border rounded w-100" style="max-height: 300px;"></video>
    </div>

    <!-- Generate feedback section -->
    <div id="generateFeedbackSection" class="mb-4 hidden">
        <button id="generateFeedbackBtn"
                class="btn btn-primary mb-3 d-flex align-items-center justify-content-center">
            Generate Feedback&nbsp;
            <img th:src="@{/img/button/ai-stars.png}" alt="AI Icon"
                 style="width: 20px; height: 20px; margin-right: 8px;">
        </button>
    </div>
</fieldset>
